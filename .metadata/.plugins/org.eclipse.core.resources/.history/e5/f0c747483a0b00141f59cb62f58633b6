package net.kkangsworld.lvmexec;

import java.io.BufferedReader;
import java.io.FileReader;

import android.os.Handler;
import android.os.Message;
import android.util.Log;

public class pipeWithLVM {
	
	private NativePipe nativepipe;
	private ResultReader resultReader;
	private readHandler rHandler;
	
	public pipeWithLVM() {
		//constructor
		nativepipe = new NativePipe(); //Native comm init
		resultReader = new ResultReader(); //ResultReader thread init;
		resultReader.start();
		readFromPipe(); //read도 동시에 실행
	}
	
	public pipeWithLVM(readHandler mHandler) {
		nativepipe = new NativePipe();
		this.rHandler = mHandler;
		resultReader = new ResultReader(this.rHandler); //ResultReader thread init;
		resultReader.start();
		//readFromPipe(); //read도 동시에 실행
	}
	
	public void ActionWritePipe(String command) {
		
		Log.d("LVMJava","ActionWritePipe"+command);
		nativepipe.writePipe(command);
		
	}
	
	public void ActionGetPipe() {
		readFromPipe();
		//String temp = nativepipe.getPipe();
		//Toast.makeText(getApplicationContext(), temp, Toast.LENGTH_SHORT).show();
	}

	
	private void readFromPipe() {
		
		
        
    }

}




